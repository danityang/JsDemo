<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>js验证Api</title>
	</head>

	<body>
		<!--
			js dom中已有为我们写好了验证函数，一下
			checkValidity() 如果 input 元素中的数据是合法的返回 true，否则返回 false
			setCustomValidity() 设置 input 元素的 validationMessage 属性，用于自定义错误提示信息的方法。
		-->
		<p><b>checkValidity()：</b><br />输入数字并点击验证按钮:</p>
		<input id="ver" type="number" min="10" max="50" required/>
		<button onclick="verInput()">点击验证</button>
		<button onclick="customVerInput()">自定义信息验证</button>
		<p id="p1"></p>
		<script>
			
			var inputValue = document.getElementById("ver");
			var showMsg = document.getElementById("p1");
			function verInput() {
				// 果 input 元素中的数据是合法的返回 true，否则返回 false
				if(inputValue.checkValidity()) {
					showMsg.innerHTML = "输入正确"
				} else {
					// 获取验证失败的信息
					showMsg.innerHTML = inputValue.validationMessage;
				}
								
			}
			// 使用自定义信息展示
			function customVerInput(){
				inputValue.setCustomValidity('')
				if(inputValue.checkValidity()) {
					showMsg.innerHTML = "输入正确"
				} else {
					if(inputValue.value==""){
						inputValue.setCustomValidity("数据不能为空,请输入一个数")
					}else if(inputValue.value > 50){
						inputValue.setCustomValidity("输入的数不能大于50哈")
					}else if(inputValue.value < 10){
						inputValue.setCustomValidity("输入的数不能小于10哈")
					}
					// 获取验证失败的信息
					showMsg.innerHTML = inputValue.validationMessage;
				}
			}
		</script>
	</body>

</html>